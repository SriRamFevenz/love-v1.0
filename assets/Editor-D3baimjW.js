import{u as N,a as v,r as n,j as e}from"./index-CaLreAMO.js";import{d as s,a as j,c as w,b as C}from"./firebase-BPehMSpG.js";const S=()=>{const g=N(),i=v(),[t,x]=n.useState({senderName:i.state?.senderName||"",recipientName:i.state?.recipientName||"",landingTitle:s.landing.title,landingSubtitle:s.landing.subtitle,questionText:s.question.text,yesBtn:s.question.yesBtn}),[d,c]=n.useState(!1),[o,b]=n.useState(null),[m,u]=n.useState(!1),a=r=>{x({...t,[r.target.name]:r.target.value})},h=async r=>{r.preventDefault(),c(!0);try{const l={...s,senderName:t.senderName,recipientName:t.recipientName,landing:{...s.landing,title:t.landingTitle,subtitle:t.landingSubtitle},question:{...s.question,text:t.questionText,yesBtn:t.yesBtn}},y=await j(w(C,"valentines"),l);b(y.id)}catch(l){console.error("Error adding document: ",l),alert("Error saving your valentine. Check console.")}finally{c(!1)}},f=()=>{const r=`${window.location.origin}/love-v1.0/#/${o}`;navigator.clipboard.writeText(r),u(!0),setTimeout(()=>u(!1),2e3)},p=()=>{g(`/${o}`)};return o?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md w-full max-w-lg text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"üéâ"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Valentine Created!"}),e.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Your special link is ready to share."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:f,className:`w-full py-3 px-4 rounded-xl font-semibold transition-all border ${m?"bg-green-50 border-green-200 text-green-600":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:m?"Copied! ‚úÖ":"Copy Link üîó"}),e.jsx("button",{onClick:p,className:"w-full py-3 px-4 rounded-xl font-semibold text-white bg-rose-500 hover:bg-rose-600 shadow-lg transform hover:scale-[1.02] active:scale-95 transition-all",children:"Preview ‚ù§Ô∏è"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-md w-full max-w-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-rose-500",children:"Create Your Valentine ‚ù§Ô∏è"}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Your Name"}),e.jsx("input",{name:"senderName",value:t.senderName,onChange:a,placeholder:"e.g. Secret Admirer",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-rose-500 focus:ring-rose-500 p-2 border",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Recipient Name"}),e.jsx("input",{name:"recipientName",value:t.recipientName,onChange:a,placeholder:"e.g. Crush",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-rose-500 focus:ring-rose-500 p-2 border",required:!0})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Landing Title"}),e.jsx("input",{name:"landingTitle",value:t.landingTitle,onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-rose-500 focus:ring-rose-500 p-2 border"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Landing Subtitle"}),e.jsx("input",{name:"landingSubtitle",value:t.landingSubtitle,onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-rose-500 focus:ring-rose-500 p-2 border"})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Question Text"}),e.jsx("input",{name:"questionText",value:t.questionText,onChange:a,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-rose-500 focus:ring-rose-500 p-2 border"})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 disabled:opacity-50 transition-colors mt-6",children:d?"Creating Magic...":"Generate Link üîó"})]})]})})};export{S as default};
